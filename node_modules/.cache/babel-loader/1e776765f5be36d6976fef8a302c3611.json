{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Utilisateur\\\\Desktop\\\\Code\\\\ReactApp\\\\iplant\\\\src\\\\components\\\\AddProduct\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AddProduct() {\n  _s();\n\n  const [newProduct, setNewProduct] = useState({\n    name: '',\n    price: '',\n    category: '',\n    isBestSale: false,\n    img: ''\n  });\n  const [category, setCategory] = useState([]);\n  const apiPath = \"http://127.0.0.1/code/iplant/\";\n  useEffect(() => {\n    axios.get(`${apiPath}?action=getCategory`).then(response => {\n      setCategory(response.data);\n    });\n  }, []);\n\n  const handleChange = (value, index) => {\n    const state = { ...newProduct\n    };\n    state[index] = value;\n    setNewProduct(state);\n    console.log(value);\n  };\n\n  const switchBest = () => {\n    const state = { ...newProduct\n    };\n    state.isBestSale = !state.isBestSale;\n    setNewProduct(state);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.post(`${apiPath}?action=addProduct`, newProduct).then(resp => {\n      if (resp.data === true) {\n        alert(\"Produit enregistré\");\n        setNewProduct({\n          name: '',\n          price: '',\n          category: '',\n          isBestSale: false,\n          img: ''\n        });\n      } else {\n        alert(\"erreur\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addProductContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"\",\n        onSubmit: e => {\n          handleSubmit(e);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: newProduct.name,\n          onChange: e => handleChange(e.target.value, \"name\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: newProduct.price,\n          onChange: e => handleChange(e.target.value, \"price\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: newProduct.category,\n          onChange: e => handleChange(e.target.value, \"category\"),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-------\"\n          }, \"null\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), category.map(cat => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cat.ID,\n              children: cat.nom\n            }, cat.ID, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 37\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          value: newProduct.isBestSale,\n          checked: newProduct.isBestSale ? true : false,\n          onChange: () => switchBest()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: newProduct.img,\n          onChange: e => handleChange(e.target.value, \"img\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Enregistrer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(AddProduct, \"viB45yMmlvRRb+bRcicL2UZjF70=\");\n\n_c = AddProduct;\nexport default AddProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"names":["React","useState","useEffect","axios","AddProduct","newProduct","setNewProduct","name","price","category","isBestSale","img","setCategory","apiPath","get","then","response","data","handleChange","value","index","state","console","log","switchBest","handleSubmit","e","preventDefault","post","resp","alert","target","map","cat","ID","nom"],"sources":["C:/Users/Utilisateur/Desktop/Code/ReactApp/iplant/src/components/AddProduct/index.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useState, useEffect } from 'react';\r\nimport axios from 'axios'\r\n\r\nfunction AddProduct(){\r\n\r\n    const [newProduct, setNewProduct] = useState({\r\n        name: '',\r\n        price : '',\r\n        category: '',\r\n        isBestSale : false,\r\n        img: ''\r\n    })\r\n\r\n    const [category, setCategory] = useState([])\r\n\r\n    const apiPath = \"http://127.0.0.1/code/iplant/\";\r\n\r\n    useEffect(() => {\r\n        axios.get(`${apiPath}?action=getCategory`).then((response) => {\r\n            setCategory(response.data);\r\n        })\r\n    }, [])\r\n\r\n    const handleChange = (value, index) => {\r\n        const state = {...newProduct}\r\n        state[index] = value\r\n        setNewProduct(state)\r\n        console.log(value)\r\n    }\r\n\r\n    const switchBest = () => {\r\n        const state = {...newProduct}\r\n        state.isBestSale = !state.isBestSale\r\n        setNewProduct(state)\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        axios.post(`${apiPath}?action=addProduct`,newProduct).then((resp) => {\r\n            if(resp.data === true){\r\n                alert(\"Produit enregistré\");\r\n                setNewProduct({\r\n                    name: '',\r\n                    price : '',\r\n                    category: '',\r\n                    isBestSale : false,\r\n                    img: ''\r\n                });\r\n            } else {\r\n                alert(\"erreur\");\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className='addProductContainer'>\r\n                <form action=\"\" onSubmit={(e) => {handleSubmit(e)}}>\r\n                    <input type=\"text\" value={newProduct.name} onChange={(e) => handleChange(e.target.value, \"name\")} />\r\n\r\n                    <input type=\"text\" value={newProduct.price} onChange={(e) => handleChange(e.target.value, \"price\")} />\r\n\r\n                    <select value={newProduct.category} onChange={(e) => handleChange(e.target.value, \"category\")}>\r\n                        <option key=\"null\" value=\"\">-------</option>\r\n                        {\r\n                            category.map((cat) => {\r\n                                return (\r\n                                    <option key={cat.ID} value={cat.ID}>{cat.nom}</option>\r\n                                )\r\n                            })\r\n                        }\r\n                    </select>\r\n\r\n                    <input type=\"checkbox\" value={newProduct.isBestSale} checked={newProduct.isBestSale ? true : false} onChange={() => (switchBest())} />\r\n\r\n                    <input type=\"text\" value={newProduct.img} onChange={(e) => handleChange(e.target.value, \"img\")} />\r\n\r\n                    <input type=\"submit\" value=\"Enregistrer\" />\r\n                </form>\r\n            </div>\r\n   \r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default AddProduct"],"mappings":"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"},"metadata":{},"sourceType":"module"}